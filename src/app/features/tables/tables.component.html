<div class="max-w-7xl mx-auto">
  <!-- Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ 'tables.title' | translate }}</h1>
    <p class="text-gray-600">{{ 'tables.subtitle' | translate }}</p>
  </div>

  <!-- Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ° -->
  <div class="flex flex-wrap gap-4 mb-8 p-4 bg-white rounded-lg shadow-sm">
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-green-400 bg-green-50"></div>
      <span class="text-sm text-gray-700">{{ 'tables.status.free' | translate }}</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-purple-400 bg-purple-100"></div>
      <span class="text-sm text-gray-700">{{ 'tables.status.reserved' | translate }}</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-blue-400 bg-blue-100"></div>
      <span class="text-sm text-gray-700">{{ 'tables.status.occupied' | translate }}</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-yellow-400 bg-yellow-100"></div>
      <span class="text-sm text-gray-700">{{ 'tables.status.waitingPayment' | translate }}</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-gray-300 bg-gray-100"></div>
      <span class="text-sm text-gray-700">{{ 'tables.status.closed' | translate }}</span>
    </div>
  </div>

  <!-- Ğ¡ĞµÑ‚ĞºĞ° ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
    <div
      *ngFor="let table of tables$ | async"
      [class]="getTableClass(table.status)"
      (click)="onTableClick(table)"
    >
      <!-- Ğ˜ĞºĞ¾Ğ½ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° -->
      <div class="text-4xl mb-2">
        {{ getTableIcon(table.status) }}
      </div>

      <!-- ĞĞ¾Ğ¼ĞµÑ€ ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ° -->
      <div class="text-2xl font-bold text-gray-800 mb-1">
        {{ 'tables.tableLabel' | translate }} {{ table.number }}
      </div>

      <!-- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¼ĞµÑÑ‚ -->
      <div *ngIf="table.seats" class="text-sm text-gray-600 mb-2">
        <span>ğŸ‘¥ {{ table.seats }} {{ 'tables.seats' | translate }}</span>
      </div>

      <!-- Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ -->
      <div [class]="'text-sm font-medium ' + getStatusColor(table.status)">
        {{ getStatusTranslationKey(table.status) | translate }}
      </div>

      <!-- ID Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ° -->
      <div *ngIf="table.activeOrderId" class="text-xs text-gray-500 mt-2">
        {{ 'tables.orderLabel' | translate }} #{{ table.activeOrderId }}
      </div>

      <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ -->
      <div class="mt-4 flex flex-col gap-2 w-full">
        <!-- Ğ”Ğ»Ñ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ñ… ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² -->
        <div *ngIf="table.status === TableStatus.FREE" class="flex flex-col gap-2">
          <div class="text-xs bg-green-600 text-white px-3 py-1 rounded-full text-center">
            {{ 'tables.createOrder' | translate }}
          </div>
          <button
            (click)="reserveTable($event, table)"
            class="text-xs bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-full transition"
          >
            ğŸ“… {{ 'tables.reserve' | translate }}
          </button>
        </div>

        <!-- Ğ”Ğ»Ñ Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² -->
        <div
          *ngIf="table.status === TableStatus.RESERVED"
          class="text-xs bg-purple-600 text-white px-3 py-1 rounded-full text-center"
        >
          {{ 'tables.viewReservation' | translate }}
        </div>

        <!-- Ğ”Ğ»Ñ Ğ·Ğ°Ğ½ÑÑ‚Ñ‹Ñ… ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² -->
        <div
          *ngIf="table.status === TableStatus.OCCUPIED"
          class="flex flex-col gap-2"
        >
          <div class="text-xs bg-blue-600 text-white px-3 py-1 rounded-full text-center">
            {{ 'tables.openOrder' | translate }}
          </div>
          <button
            (click)="markTableWaitingPayment($event, table)"
            class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-full transition"
          >
            ğŸ’³ {{ 'tables.markPayment' | translate }}
          </button>
        </div>

        <!-- Ğ”Ğ»Ñ ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² Ğ¾Ğ¶Ğ¸Ğ´Ğ°ÑÑ‰Ğ¸Ñ… Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ -->
        <div
          *ngIf="table.status === TableStatus.WAITING_PAYMENT"
          class="text-xs bg-yellow-600 text-white px-3 py-1 rounded-full text-center"
        >
          {{ 'tables.toPay' | translate }}
        </div>
      </div>
    </div>
  </div>

  <!-- Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ ÑÑ‚Ğ¾Ğ»Ğ¸ĞºĞ¾Ğ² -->
  <div
    *ngIf="(tables$ | async)?.length === 0"
    class="text-center py-16 text-gray-500"
  >
    <div class="text-6xl mb-4">ğŸª‘</div>
    <p class="text-lg">{{ 'tables.noTables' | translate }}</p>
  </div>
</div>

