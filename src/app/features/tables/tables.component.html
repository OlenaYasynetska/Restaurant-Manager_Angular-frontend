<div class="max-w-7xl mx-auto">
  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-2">–°—Ç–æ–ª–∏–∫–∏</h1>
    <p class="text-gray-600">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ–ª–∏–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞</p>
  </div>

  <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
  <div class="flex flex-wrap gap-4 mb-8 p-4 bg-white rounded-lg shadow-sm">
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-green-400 bg-green-50"></div>
      <span class="text-sm text-gray-700">–°–≤–æ–±–æ–¥–µ–Ω</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-purple-400 bg-purple-100"></div>
      <span class="text-sm text-gray-700">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-blue-400 bg-blue-100"></div>
      <span class="text-sm text-gray-700">–ó–∞–Ω—è—Ç</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-yellow-400 bg-yellow-100"></div>
      <span class="text-sm text-gray-700">–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded border-2 border-gray-300 bg-gray-100"></div>
      <span class="text-sm text-gray-700">–ó–∞–∫—Ä—ã—Ç</span>
    </div>
  </div>

  <!-- –°–µ—Ç–∫–∞ —Å—Ç–æ–ª–∏–∫–æ–≤ -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
    <div
      *ngFor="let table of tables$ | async"
      [class]="getTableClass(table.status)"
      (click)="onTableClick(table)"
    >
      <!-- –ò–∫–æ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ -->
      <div class="text-4xl mb-2">
        {{ getTableIcon(table.status) }}
      </div>

      <!-- –ù–æ–º–µ—Ä —Å—Ç–æ–ª–∏–∫–∞ -->
      <div class="text-2xl font-bold text-gray-800 mb-1">
        –°—Ç–æ–ª {{ table.number }}
      </div>

      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç -->
      <div *ngIf="table.seats" class="text-sm text-gray-600 mb-2">
        <span>üë• {{ table.seats }} –º–µ—Å—Ç</span>
      </div>

      <!-- –°—Ç–∞—Ç—É—Å -->
      <div [class]="'text-sm font-medium ' + getStatusColor(table.status)">
        {{ getStatusText(table.status) }}
      </div>

      <!-- ID –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ -->
      <div *ngIf="table.activeOrderId" class="text-xs text-gray-500 mt-2">
        –ó–∞–∫–∞–∑ #{{ table.activeOrderId }}
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
      <div class="mt-4 flex flex-col gap-2 w-full">
        <!-- –î–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ç–æ–ª–∏–∫–æ–≤ -->
        <div *ngIf="table.status === TableStatus.FREE" class="flex flex-col gap-2">
          <div class="text-xs bg-green-600 text-white px-3 py-1 rounded-full text-center">
            –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
          </div>
          <button
            (click)="reserveTable($event, table)"
            class="text-xs bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-full transition"
          >
            üìÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>

        <!-- –î–ª—è –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–∏–∫–æ–≤ -->
        <div
          *ngIf="table.status === TableStatus.RESERVED"
          class="text-xs bg-purple-600 text-white px-3 py-1 rounded-full text-center"
        >
          –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±—Ä–æ–Ω—å
        </div>

        <!-- –î–ª—è –∑–∞–Ω—è—Ç—ã—Ö —Å—Ç–æ–ª–∏–∫–æ–≤ -->
        <div
          *ngIf="table.status === TableStatus.OCCUPIED"
          class="text-xs bg-blue-600 text-white px-3 py-1 rounded-full text-center"
        >
          –û—Ç–∫—Ä—ã—Ç—å –∑–∞–∫–∞–∑
        </div>

        <!-- –î–ª—è —Å—Ç–æ–ª–∏–∫–æ–≤ –æ–∂–∏–¥–∞—é—â–∏—Ö –æ–ø–ª–∞—Ç—É -->
        <div
          *ngIf="table.status === TableStatus.WAITING_PAYMENT"
          class="text-xs bg-yellow-600 text-white px-3 py-1 rounded-full text-center"
        >
          –ö –æ–ø–ª–∞—Ç–µ
        </div>
      </div>
    </div>
  </div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç —Å—Ç–æ–ª–∏–∫–æ–≤ -->
  <div
    *ngIf="(tables$ | async)?.length === 0"
    class="text-center py-16 text-gray-500"
  >
    <div class="text-6xl mb-4">ü™ë</div>
    <p class="text-lg">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–æ–ª–∏–∫–æ–≤</p>
  </div>
</div>

